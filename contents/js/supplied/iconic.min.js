/*!
 * iconic.js v0.2.3 - The Iconic JavaScript library
 * Copyright (c) 2014 Waybury - http://useiconic.com
 */

!function(a){"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(a):"undefined"!=typeof window?window.IconicJS=a():"undefined"!=typeof global?global.IconicJS=a():"undefined"!=typeof self&&(self.IconicJS=a())}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c=(a("./modules/polyfills"),a("./modules/svgInjector")),d=a("./modules/extend"),e=a("./modules/responsive"),f=a("./modules/container"),g=a("./modules/log"),h={},i=window.iconicSmartIconApis={},j=("file:"===window.location.protocol,0),k=function(a,b,k){b=d({},h,b||{});var l={evalScripts:b.evalScripts,pngFallback:b.pngFallback};l.each=function(a){if(a)if(a instanceof SVGSVGElement){j++;var c=a.getAttribute("data-icon");if(c&&i[c]){var d=i[c](a);for(var h in d)a[h]=d[h];a.update&&a.update()}e.prepResponsive(a),/iconic-bg-/.test(a.getAttribute("class"))&&f.addBackground(a),b&&b.each&&"function"==typeof b.each&&b.each(a)}else"string"==typeof a&&g.debug(a)};var m=document.querySelectorAll(a);c(m,l,k)},l=function(a){var b=[];a?"string"==typeof a?b=document.querySelectorAll(a):"object"==typeof a&&b.push(a):b=document.querySelectorAll("svg.iconic"),Array.prototype.forEach.call(b,function(a){a instanceof SVGSVGElement&&(a.update&&a.update(),e.refresh(a))})},m=function(){h.debug&&console.time&&console.time("autoInjectSelector - "+h.autoInjectSelector);var a=j;k(h.autoInjectSelector,{},function(){h.debug&&console.timeEnd&&console.timeEnd("autoInjectSelector - "+h.autoInjectSelector),g.debug("AutoInjected: "+(j-a)),e.refreshAll();var b=j-a;h.autoInjectDone&&"function"==typeof h.autoInjectDone&&h.autoInjectDone(b)})},n=function(a){a&&""!==a&&"complete"!==document.readyState?document.addEventListener("DOMContentLoaded",m):document.removeEventListener("DOMContentLoaded",m)},o=function(a){return a=a||{},d(h,a),n(h.autoInjectSelector),g.enableDebug(h.debug),window._Iconic?window._Iconic:{inject:k,update:l,smartIconApis:i,svgInjectedCount:j}};b.exports=o,window._Iconic=new o({autoInjectSelector:"img.iconic",evalScripts:"once",pngFallback:!1,each:null,autoInjectDone:null,debug:!1})},{"./modules/container":2,"./modules/extend":3,"./modules/log":4,"./modules/polyfills":5,"./modules/responsive":6,"./modules/svgInjector":7}],2:[function(a,b){var c=function(a){var b=a.getAttribute("class").split(" "),c=-1!==b.indexOf("iconic-fluid"),d=[],e=["iconic-bg"];Array.prototype.forEach.call(b,function(a){switch(a){case"iconic-sm":case"iconic-md":case"iconic-lg":d.push(a),c||e.push(a.replace(/-/,"-bg-"));break;case"iconic-fluid":d.push(a),e.push(a.replace(/-/,"-bg-"));break;case"iconic-bg-circle":case"iconic-bg-rounded-rect":case"iconic-bg-badge":e.push(a);break;default:d.push(a)}}),a.setAttribute("class",d.join(" "));var f=a.parentNode,g=Array.prototype.indexOf.call(f.childNodes,a),h=document.createElement("span");h.setAttribute("class",e.join(" ")),h.appendChild(a),f.insertBefore(h,f.childNodes[g])};b.exports={addBackground:c}},{}],3:[function(a,b){b.exports=function(a){return Array.prototype.forEach.call(Array.prototype.slice.call(arguments,1),function(b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}),a}},{}],4:[function(a,b){var c=!1,d=function(a){console&&console.log&&console.log(a)},e=function(a){d("Iconic INFO: "+a)},f=function(a){d("Iconic WARNING: "+a)},g=function(a){c&&d("Iconic DEBUG: "+a)},h=function(a){c=a};b.exports={info:e,warn:f,debug:g,enableDebug:h}},{}],5:[function(){Array.prototype.forEach||(Array.prototype.forEach=function(a,b){"use strict";var c,d;for(c=0,d=this.length;d>c;++c)c in this&&a.call(b,this[c],c,this)})},{}],6:[function(a,b){var c=/(iconic-sm\b|iconic-md\b|iconic-lg\b)/,d={},e=function(a,b){var c="undefined"!=typeof window.getComputedStyle&&window.getComputedStyle(a,null).getPropertyValue(b);return!c&&a.currentStyle&&(c=a.currentStyle[b.replace(/([a-z])\-([a-z])/,function(a,b,c){return b+c.toUpperCase()})]||a.currentStyle[b]),c},f=function(a){var b=a.style.display;a.style.display="block";var c=parseFloat(e(a,"width").slice(0,-2)),d=parseFloat(e(a,"height").slice(0,-2));return a.style.display=b,{width:c,height:d}},g=function(){var a="/* Iconic Responsive Support Styles */\nsvg.iconic.iconic-fluid{height:100% !important;width:100% !important;}\nsvg.iconic > g.iconic-sm, svg.iconic > g.iconic-md, svg.iconic > g.iconic-lg{display:none;}\nsvg.iconic-sm:not(.iconic-icon-md):not(.iconic-icon-lg) > g.iconic-sm, svg.iconic-md.iconic-icon-sm > g.iconic-sm, svg.iconic-lg.iconic-icon-sm > g.iconic-sm{display:inline;}\nsvg.iconic-md:not(.iconic-icon-sm):not(.iconic-icon-lg) > g.iconic-md, svg.iconic-sm.iconic-icon-md > g.iconic-md, svg.iconic-lg.iconic-icon-md > g.iconic-md{display:inline;}\nsvg.iconic-lg:not(.iconic-icon-sm):not(.iconic-icon-md) > g.iconic-lg, svg.iconic-sm.iconic-icon-lg > g.iconic-lg, svg.iconic-md.iconic-icon-lg > g.iconic-lg{display:inline;}",b=document.createElement("style");b.id="iconic-responsive-css",b.type="text/css",b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a)),(document.head||document.getElementsByTagName("head")[0]).appendChild(b)},h=function(a){var b=a.getAttribute("class");c.test(b)||a.setAttribute("class",b+" iconic-lg")},i=function(a){var b=a.getAttribute("data-icon");if(b&&!d[b]){var c="",e="iconic-"+b,f=a.getAttribute("width"),g=a.getAttribute("height");if(a.querySelector(".iconic-sm")&&(c+="."+e+".iconic-sm:not(.iconic-size-md):not(.iconic-size-lg),",c+="."+e+".iconic-size-sm{width:"+f/8+"px;height:"+g/8+"px;}"),a.querySelector(".iconic-md")&&(c+="."+e+".iconic-md:not(.iconic-size-sm):not(.iconic-size-lg),",c+="."+e+".iconic-size-md{width:"+f/4+"px;height:"+g/4+"px;}"),a.querySelector(".iconic-lg")&&(c+="."+e+".iconic-lg:not(.iconic-size-sm):not(.iconic-size-md),",c+="."+e+".iconic-size-lg{width:"+f+"px;height:"+g+"px;}"),d[b]=c,""!==c){var h=document.getElementById("iconic-responsive-css");h.styleSheet?h.styleSheet.cssText+="\n"+c:h.appendChild(document.createTextNode("\n"+c))}}},j=function(a){h(a),i(a)},k=function(a){if(/iconic-fluid/.test(a.getAttribute("class"))){var b,d=f(a),e=a.viewBox.baseVal.width/a.viewBox.baseVal.height;b=1===e?Math.min(d.width,d.height):1>e?d.width:d.height;var g;g=32>b?"iconic-sm":b>=32&&128>b?"iconic-md":"iconic-lg";var h=a.getAttribute("class"),i=c.test(h)?h.replace(c,g):h+" "+g;a.setAttribute("class",i)}},l=function(){var a=document.querySelectorAll(".iconic-injected-svg.iconic-fluid");Array.prototype.forEach.call(a,function(a){k(a)})};document.addEventListener("DOMContentLoaded",function(){g()}),window.addEventListener("resize",function(){l()}),b.exports={refresh:k,refreshAll:l,prepResponsive:j}},{}],7:[function(a,b){var c="file:"===window.location.protocol,d=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),e={},f=0,g=[],h={},i=function(a){return a.cloneNode(!0)},j=function(a,b){g[a]=g[a]||[],g[a].push(b)},k=function(a){for(var b=0,c=g[a].length;c>b;b++)!function(b){setTimeout(function(){g[a][b](i(e[a]))},0)}(b)},l=function(a,b){if(void 0!==e[a])e[a]instanceof SVGSVGElement?b(e[a].cloneNode(!0)):j(a,b);else{if(!window.XMLHttpRequest)return b("Browser does not support XMLHttpRequest"),!1;e[a]={},j(a,b);var d=new XMLHttpRequest;d.onreadystatechange=function(){if(4===d.readyState){if(404===d.status||null===d.responseXML)return b("Unable to load SVG file: "+a),c&&b("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),b(),!1;if(!(200===d.status||c&&0===d.status))return b("There was a problem injecting the SVG: "+d.status+" "+d.statusText),!1;if(d.responseXML instanceof Document)e[a]=d.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var f;try{var g=new DOMParser;f=g.parseFromString(d.responseText,"text/xml")}catch(h){f=void 0}if(!f||f.getElementsByTagName("parsererror").length)return b("Unable to parse SVG file: "+a),!1;e[a]=f.documentElement}k(a)}},d.open("GET",a),d.overrideMimeType&&d.overrideMimeType("text/xml"),d.send()}},m=function(a,b,c,e){var g=a.getAttribute("src")||a.getAttribute("data-src");return/svg$/i.test(g)?d?(a.setAttribute("src",""),l(g,function(c){if(void 0===c||"string"==typeof c)return e(c),!1;var d=a.getAttribute("id");d&&c.setAttribute("id",d);var i=a.getAttribute("class");if(i){var j=[c.getAttribute("class"),"iconic-injected-svg",i].join(" ");c.setAttribute("class",j)}var k=a.getAttribute("style");k&&c.setAttribute("style",k);var l=[].filter.call(a.attributes,function(a){return/^data-\w[\w\-]*$/.test(a.name)});Array.prototype.forEach.call(l,function(a){a.name&&a.value&&c.setAttribute(a.name,a.value)});for(var m,n=c.querySelectorAll("defs clipPath[id]"),o=0,p=n.length;p>o;o++){m=n[o].id+"-"+f;for(var q=c.querySelectorAll('[clip-path*="'+n[o].id+'"]'),r=0,s=q.length;s>r;r++)q[r].setAttribute("clip-path","url(#"+m+")");n[o].id=m}c.removeAttribute("xmlns:a");for(var t,u,v=c.querySelectorAll("script"),w=[],x=0,y=v.length;y>x;x++)u=v[x].getAttribute("type"),u&&"application/ecmascript"!==u&&"application/javascript"!==u||(t=v[x].innerText||v[x].textContent,w.push(t),c.removeChild(v[x]));if(w.length>0&&("always"===b||"once"===b&&!h[g])){for(var z=0,A=w.length;A>z;z++)new Function(w[z])(window);h[g]=!0}a.parentNode.replaceChild(c,a),f++,e(c)}),void 0):(c?(a.setAttribute("src",c+"/"+g.split("/").pop().replace(".svg",".png")),e(null)):e("This browser does not support SVG and no PNG fallback was defined."),void 0):(e("Attempted to inject a non-svg file: "+g),void 0)},n=function(a,b,c){b=b||{};var d=b.evalScripts||"always",e=b.pngFallback||!1,f=b.each;if(void 0!==a.length){var g=0;Array.prototype.forEach.call(a,function(b){m(b,d,e,function(b){f&&"function"==typeof f&&f(b),c&&a.length===++g&&c(g)})})}else null!==a?m(a,d,e,function(a){f&&"function"==typeof f&&f(a),c&&c(1)}):c&&c(0)};b.exports=n},{}]},{},[1])(1)});