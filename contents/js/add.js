// Generated by CoffeeScript 1.6.3
(function() {
  $(document).ready(function() {
    var ViewModel, socket;
    socket = io.connect(location.host, {
      resource: "node/socket.io"
    });
    ViewModel = {
      subject: ko.observable(),
      team: ko.observable(),
      description: ko.observable(),
      from: ko.observable(),
      addTicket: function(formElement) {
        console.log(this.from());
        console.log(this.subject());
        console.log(this.team());
        return console.log(this.description());
      }
    };
    return $.ajax({
      url: "/node/getuser"
    }).done(function(userdata) {
      if (!userdata) {
        return window.location.replace("/node/google");
      } else {
        ko.applyBindings(ViewModel);
        return ViewModel.from(userdata.emails[0].value);
      }
    });
  });

}).call(this);
